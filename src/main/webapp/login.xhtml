<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>ECC-SLG</title>
	<link rel="shortcut icon" href="resources/imagens/SLG.ico" />
	<h:outputStylesheet library="css" name="bootstrap.min.css" />
	<h:outputScript library="js" name="bootstrap.min.js" />
	<h:outputStylesheet library="css" name="login.css" />
</h:head>
<h:body style="background-color:#3f729b">
	<h1>
		<img src="resources/imagens/logo_ECC.png" style="margin-left:20px;" width="450" height="100" />
	</h1>
		<div class="container" align="center">
		<div class="row">
			<div class="col-md-4 col-md-offset-7">
				<div class="panel panel-default">
					<div class="panel-heading">
					<h:graphicImage library="imagens" name="cadeado.png" />&nbsp; Acesso
					</div>
					<div class="panel-body">
						<p:messages autoUpdate="true" closable="true" />
						<form id="login" method="post"
							action="${request.contextPath}/j_spring_security_check">

							<div class="form-group">
								<label for="login" class="col-sm-3 control-label">
									Usuário</label>
								<div class="col-sm-9">
									<input type='text' name='j_username' class="form-control">
										<p:focus id='j_username' /> 
									</input>
									<br/>
								</div>
							</div>
							<div class="form-group">
								<label for="password" class="col-sm-3 control-label">
									Senha</label>
								<div class="col-sm-9">
									<input type='password' name='j_password' class="form-control" />
									<br/>
								</div>
							</div>
							<div class="form-group last">

								<div class="col-sm-offset-3 col-sm-9">
									<h:panelGrid columns="2">
										<input type="submit" value="Entrar"
											class="btn btn-success btn-sm" />
										<input type="button" value="Recuperar Senha" onclick="PF('dlgRecuperarSenha').show()"
										class="btn btn-warning btn-sm" />
									</h:panelGrid>
								</div>

							</div>
						</form>

					</div>
					<div class="panel-footer">Paróquia São Luiz Gonzaga</div>
<!--
					<h:form id="formEqueciSenha">
						<h:panelGrid columns="2">
							<p:outputLabel value="Deseja Recuperar a Senha? " style="font-size:10pt"/>
								<h:graphicImage library="imagens" name="ausenciaJustificada.png"
												onclick="PF('dlgRecuperarSenha').show()" update=":cadRecuperarSenha"
												title="Clique Aqui"	style="margin-left:10px;"/>
						</h:panelGrid>
					</h:form>
-->
				</div>
				<!-- ==================================================================================== -->
				<!-- ========================= Diálogo para Recuperar SENHA ============================= -->
				<!-- ==================================================================================== -->
				<p:dialog id="dialogRecuperarSenha" header="Recuperar Senha"
						  modal="true" widgetVar="dlgRecuperarSenha"
						  style="background-color:#EBF3FE" resizable="false" width="490px"
						  height="130px">
					<h:form id="cadRecuperarSenha">
						<p:panel id="panelRecuperarSenha" style="background-color: #ffffe6">
							<h:message />
							<h:panelGrid columns="1">
								<h:outputLabel value="E-Mail" for="email" />
								<p:inputText id="email" value="#{usuarioBean.email}"
											 required="false" requiredMessage="O campo E-Mail é obrigatório"
											 maxlength="120" style="width:420px;">
									<p:focus for="email" />
								</p:inputText>
							</h:panelGrid>
							<br />
							<h:panelGrid columns="2">
								<h:outputLabel value="" />
								<p:commandButton value="Recuperar Senha" style="margin-left: 10px;"
												 action="#{usuarioBean.recuperaSenha()}" icon="ui-icon-check"
												 update="@form" process="@form"
												 oncomplete="if(!args.validationFailed){PF('dlgRecuperarSenha').hide();}" />
							</h:panelGrid>
						</p:panel>
					</h:form>
				</p:dialog>
			</div>
		</div>
	</div>
</h:body>
</html>