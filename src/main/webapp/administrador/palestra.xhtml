<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
	<title>ECC-SLG</title>
	<link rel="shortcut icon" href="../resources/imagens/SLG.ico" />
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />
	<h:outputScript library="js" name="locale-primefaces.js" />
	<h:outputScript library="js" name="bootstrap.min.js" />

	<h:outputStylesheet library="css" name="modelo.css" />
	<h:outputStylesheet library="css" name="menu.css" />
	<h:outputStylesheet library="css" name="AdminLTE.css" />
	<h:outputStylesheet library="css" name="font-awesome.min.css" />
</h:head>

<h:body style="background-color:#EBF3FE">
	<h:form id="edicao">
		<div id="menubar">
			<li class="icone"><h:graphicImage library="imagens" name="logo_ECC.png" width="400" height="72" /></li>
			<ul>
				<li><a><h:graphicImage library="imagens/menu"
									   style="width:35px; height:35px;" name="cadastros.png" />Cadastros</a>
					<ul>
						<li><h:graphicImage library="imagens/menu"
											style="width:30px; height:30px;
								margin-left:10px; margin-top:8px; margin-right:9px;"
											name="circulos.png" /><a
								href="circulo.xhtml">Circulos</a>
						</li>

						<li><h:graphicImage library="imagens/menu"
											style="width:30px; height:30px;
								margin-left:10px; margin-top:8px; margin-right:9px;"
											name="palestras.png" />
							<a style="color: #808080; background: #a0c0de; opacity: 1;
							filter: alpha(opacity = 100); border-bottom: 3px solid #b1b1b1;">Palestras</a>
						</li>
						<li><h:graphicImage library="imagens/menu"
											style="width:30px; height:30px;
								margin-left:10px; margin-top:8px; margin-right:9px;"
											name="equipes.png" /><a
								href="equipe.xhtml">Equipes</a>
						</li>
						<li><h:graphicImage library="imagens/menu"
											style="width:30px; height:30px;
								margin-left:10px; margin-top:8px; margin-right:9px;"
											name="usuarios.png" /><a
								href="usuario.xhtml">Usuários</a>
						</li>
					</ul></li>
				<li><a><h:graphicImage library="imagens/menu"
									   style="width:35px; height:35px;" name="montagem.png" />Montagem</a>
					<ul>
						<li><h:graphicImage library="imagens/menu"
											style="width:30px; height:30px;
								margin-left:10px; margin-top:8px; margin-right:9px;"
											name="ecc.png" /><a href="../dirigente/ecc.xhtml">ECC
						</a></li>
						<li><h:graphicImage library="imagens/menu"
											style="width:30px; height:30px;
								margin-left:10px; margin-top:8px; margin-right:9px;"
											name="fichas.png" /><a href="../dirigente/montagemFicha.xhtml">Fichas
						</a></li>
						<li><h:graphicImage library="imagens/menu"
											style="width:30px; height:30px;
								margin-left:10px; margin-top:8px; margin-right:9px;"
											name="montagemEquipes.png" /><a href="../dirigente/montagemEquipe.xhtml">Equipes
						</a></li>
						<li><h:graphicImage library="imagens/menu"
											style="width:30px; height:30px;
								margin-left:10px; margin-top:8px; margin-right:9px;"
											name="montagemCasais.png" /><a
								href="../dirigente/montagemEncontrista.xhtml">Encontristas</a>
						</li>
						<li><h:graphicImage library="imagens/menu"
											style="width:30px; height:30px;
								margin-left:10px; margin-top:8px; margin-right:9px;"
											name="montagemPalestrantes.png" /><a
								href="../dirigente/montagemPalestrante.xhtml">Palestrantes</a></li>
						<li><h:graphicImage library="imagens/menu"
											style="width:30px; height:30px;
								margin-left:10px; margin-top:8px; margin-right:9px;"
											name="montagemCirculos.png" /><a
								href="../dirigente/montagemCirculo.xhtml">Círculos</a></li>

					</ul>
				</li>
			</ul>
		</div>
		<div id="status" style="...">
			<div id="ico">
				<h1>
					<h:graphicImage library="imagens/menu" name="palestras.png"
									width="25px" height="25px" />
					<h5>
						<b>Palestras</b>
					</h5>
					<p:commandButton type="button" value="Sair" icon="ui-icon-extlink"
									 style="float: right; margin-right:5px; margin-top: -5px;"
									 onclick="document.location='#{request.contextPath}/j_spring_security_logout'" />
				</h1>
			</div>
			<div id="img-usuario-logado">
				<h5>Usuário logado: #{contextoBean.usuarioLogado.nome}</h5>
				<h1>
					<h:graphicImage library="imagens/menu" name="usuarioLogado.png"
									width="25px" height="25px" />
				</h1>
			</div>
		</div>
		<br />
		<p:growl id="growl" showDetail="true" sticky="false" life="2000" showSummary="false" autoUpdate="true" />
		<br />	
		<center>	
		<p:panel header="Cadastro de Palestras"
			style="width:616px; background:#F1F2F5;">
			<h:message />
			<h:inputHidden value="#{palestraBean.palestra.id}" />
			<h:panelGrid columns="2">
				<h:outputLabel value="Descrição:" for="descricao" />
				<p:inputText id="descricao" value="#{palestraBean.palestra.descricao}"
					required="true" requiredMessage="O campo Descrição é obrigatório"
					maxlength="100" style="width:350px;">
					<p:focus for="descricao" />
				</p:inputText>
				<p:selectBooleanCheckbox value="#{palestraBean.palestra.casal}" itemLabel="Casal?" style="margin-left:5px;" />
				<h:outputLabel value="" />
				<p:commandButton value="Salvar" action="#{palestraBean.salvar()}"
					icon="ui-icon-disk" process="@form" update=":listagem :edicao">
				</p:commandButton>
			</h:panelGrid>
		</p:panel>
		</center>
	</h:form>
	<br />
	<h:form id="listagem">
		<center>
		<p:dataTable value="#{palestraBean.lista}" var="palestra"
			rendered="#{!empty palestraBean.lista}" style="width:620px;">
			<p:column headerText="Descrição" width="200">
				<p:outputLabel value="#{palestra.descricao}"/>
				<h:graphicImage library="imagens" name="casais.png" width="15" height="15" rendered="#{palestra.casal}"
								style="float: right;" title="Casais"/>
			</p:column>
			<p:column width="50">
				<f:facet name="header">Ativo</f:facet>
				<center>
					<h:commandLink action="#{palestraBean.ativarInativar}">
						<f:ajax execute="@this" render=":listagem" />
						<h:graphicImage library="imagens"
										name="#{palestra.ativo}.png" />
						<f:setPropertyActionListener
								target="#{palestraBean.palestra}" value="#{palestra}" />
					</h:commandLink>
				</center>
			</p:column>
			<p:column width="40" headerText="Editar">
				<center>
					<h:commandLink>
						<f:ajax execute="@this" render=":edicao" />
						<h:graphicImage library="imagens" name="alterar.png" />
						<f:setPropertyActionListener target="#{palestraBean.palestra}"
							value="#{palestra}" />
					</h:commandLink>
				</center>
			</p:column>

			<p:column width="40" headerText="Excluir">
				<center>
					<h:commandLink action="#{palestraBean.excluir}"
						onclick="if (!confirm('Confirma a exclusão da Palestra #{palestra.id}?')) return false;">
						<f:ajax execute="@this" render=":listagem" />
						<h:graphicImage library="imagens" name="remover.png" />
						<f:setPropertyActionListener target="#{palestraBean.palestra}"
							value="#{palestra}" />
					</h:commandLink>
				</center>
			</p:column>
			<f:facet name="footer">
				<p:outputLabel value="Quantidade de Palestras: #{palestraBean.lista.size()}"/>
			</f:facet>
		</p:dataTable>
		</center>
	</h:form>
</h:body>
</html>